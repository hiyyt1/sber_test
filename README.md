# üß† –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ —Å reranker –∏ LLM-–≤–∞–ª–∏–¥–∞—Ü–∏–µ–π

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–∏—Å—Ç–µ–º—É –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ (–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏) —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.  
–û–Ω–∞ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤ —Å–µ–±–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–µ–π –ø–æ–∏—Å–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞:

- ‚ö° **–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ** ‚Äî –±—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç –ø–æ –≤–µ–∫—Ç–æ—Ä–Ω–æ–º—É "—Ü–µ–Ω—Ç—Ä—É" –∫–ª–∞—Å—Å–∞  
- üîç **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫** ‚Äî –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ dense –∏ BM25 —á–µ—Ä–µ–∑ RRF  
- üéØ **Reranker (Cross-Encoder)** ‚Äî —É—Ç–æ—á–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤  
- ü§ñ **LLM-–≤–∞–ª–∏–¥–∞—Ü–∏—è** ‚Äî –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π —á–µ—Ä–µ–∑ OpenRouter (DeepSeek)

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram-–±–æ—Ç–æ–º.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv venv
source venv/bin/activate

# 2Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install --upgrade pip
pip install --no-cache-dir torch==2.3.1 --index-url https://download.pytorch.org/whl/cpu
pip install -r requirements.txt

# 3Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp config.example.yaml config.yaml
# (–≤ config.yaml –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å device, –º–æ–¥–µ–ª–∏ –∏ –∫–ª—é—á LLM)

# 4Ô∏è‚É£ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
# data.csv –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–ª–æ–Ω–∫–∏: text,label

# 5Ô∏è‚É£ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ (—ç–º–±–µ–¥–¥–∏–Ω–≥–∏, BM25, –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã)
python src/encode.py

# 6Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
python -m src.evaluate

# 7Ô∏è‚É£ –ó–∞–ø—É—Å–∫ Telegram-–±–æ—Ç–∞
export TELEGRAM_BOT_TOKEN="—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω"
python app.py



